<!DOCTYPE html>
<html>
	<head>
		<title>A3D II - LÃ©na PROUST & Tom BOIREAU</title>
		<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">

		<link rel="stylesheet" type="text/css" href="styles/gstyle.css">

		<script type="text/javascript" src="scripts/glMatrix.js"></script>
		<script type="text/javascript" src="scripts/callbacks.js"></script>
		<script type="text/javascript" src="scripts/selector.js"></script>
		<script type="text/javascript" src="scripts/renderer.js"></script>
		<script type="text/javascript" src="scripts/objLoader.js"></script>
		<script type="text/javascript" src="scripts/3dObjects.js"></script>
		<script type="text/javascript" src="scripts/heightmap.js"></script>

		<script type="text/javascript">
			function loadBody() {
				document.getElementById("posX").value = 0;
				document.getElementById("posY").value = 0;
				document.getElementById("posZ").value = 0;
				document.getElementById("rotX").value = 0;
				document.getElementById("rotY").value = 0;
				document.getElementById("rotZ").value = 0;
				document.getElementById("color").value = "#ffffff";
				document.getElementById("perlin-scale").value = 0.01;
				document.getElementById("perlin-amplitude").value = 2;
				document.getElementById("perlin-persistence").value = 0.45;
				document.getElementById("perlin-octaves").value = 8;
				document.getElementById("perlin-contrast").value = 1;
				webGLStart();
			}	
		</script>
	</head>
	<body onload="loadBody();">
		<div class="container" id="left-container">
			<div id="position-rotation-modifier">
				<div>
					<h3> Transformation de l'objet : </h3>
				</div>
				<table>
					<thead>
						<tr>
							<th>Position :</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>X :</td>
							<td>
								<input type="range" id="posX" min="-2.5" max="2.5" value="0" step="0.01" oninput="changePosition()">
							</td>
						</tr>
						<tr>
							<td>Y :</td>
							<td>
								<input type="range" id="posY" min="-2.5" max="2.5" value="0" step="0.01" oninput="changePosition()">
							</td>
						</tr>
						<tr>
							<td>Z :</td>
							<td>
								<input type="range" id="posZ" min="-2.5" max="2.5" value="0" step="0.01" oninput="changePosition()">
							</td>
						</tr>
					</tbody>
					<thead>
						<tr>
							<th>Rotation :</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>X :</td>
							<td>
								<input type="range" id="rotX" min="-180" max="180" value="0" step="1" oninput="changeRotation()">
							</td>
						</tr>
						<tr>
							<td>Y :</td>
							<td>
								<input type="range" id="rotY" min="-180" max="180" value="0" step="1" oninput="changeRotation()">
							</td>
						</tr>
						<tr>
							<td>Z :</td>
							<td>
								<input type="range" id="rotZ" min="-180" max="180" value="0" step="1" oninput="changeRotation()">
							</td>
						</tr>
					</tbody>
					<thead>
						<tr>
							<th>Color :</th>
							<th>
								<input type="color" id="color" value="#ffffff" onchange="changeColor()">
							</th>
						</tr>
					</thead>
					<thead>
						<tr>
							<th>Wireframe :</th>
							<th>
								<input type="checkbox" id="wireframe" checked="false" onchange="changeWireframe()">
							</th>
						</tr>
					</thead>
				</table>
			</div>
		</div>
		<div class="container" id="center-container" style="max-width:60vw;">
			<div class="content" style="max-height: 50vh;">
				<canvas id="WebGL-test" style="border:none;" width="3840" height="2160" oncontextmenu="return false;"></canvas>
			</div>
			<div class="hcontainer">
				<div id="hm-left-part" class="content">
					<h1>Heightmap</h1>
					<h2 class="content">From Texture</h2>
					<div id="objects-selector">
						<button onclick="loadImage('texture1.png')">Texture 1</button>
						<button onclick="loadImage('texture2.png')">Texture 2</button>
						<button onclick="loadImage('texture3.png')">Texture 3</button>
						<button onclick="loadImage('texture4.png')">Texture 4</button>
					</div>
					<h2 class="content">From Perlin</h2>
					<div id="perlin-parameters">
						<button onclick="resetGradients()">Reset Gradients</button><br/>
						<label for="perlin-scale">Scale</label>
						<input type="range" id="perlin-scale" min="0.001" max="0.05" value="0.01" step="0.0005" onchange="handleGeneratePerlin()"><br/>
						<label for="perlin-amplitude">Amplitude</label>
						<input type="range" id="perlin-amplitude" min="0" max="5" value="2" step="0.01" onchange="handleGeneratePerlin()"><br/>
						<label for="perlin-persistence">Persistence</label>
						<input type="range" id="perlin-persistence" min="0" max="1" value="0.5" step="0.01" onchange="handleGeneratePerlin()"><br/>
						<label for="perlin-octaves">Octaves</label>
						<input type="range" id="perlin-octaves" min="0" max="10" value="8" step="0.01" onchange="handleGeneratePerlin()"><br/>
						<label for="perlin-contrast">Contrast</label>
						<input type="range" id="perlin-contrast" min="0" max="2" value="1" step="0.01" onchange="handleGeneratePerlin()"><br/>
						<button onclick="handleGeneratePerlin()">Generate</button>
					</div>
				</div>
				<div id="hm-right-part" class="content">
					<h2 class="content">Result</h2>
					<canvas id="heightmap-result" width="512" height="512" style="border:none;"></canvas>
				</div>
			</div>
		</div>
		<div class="container" id="right-container">
			<div id="selector">
				<h1 class="content">Object Selection</h1>
				<select  id="object-selector" multiple onchange="changeObject()">

				</select>
				<button class="content" onclick="deleteSelected()">Remove Object</button>
				<h2 class="content">Add Object</h2>
				<div id="objects-selector">
					<button onclick="addMeshObj('bunny.obj')">Stanford's Bunny</button>
					<button onclick="addMeshObj('mustang.obj')">Mustang</button>
					<button onclick="addMeshObj('porsche.obj')">Porsche</button>
					<button onclick="addMeshObj('sphere.obj')">Sphere</button>
					<button onclick="addHeightmapObj()">Heightmap</button>
					<button onclick="addBoundingBox()">BoundingBox</button>
				</div>
			</div>
		</div>
		
	</body>
</html>
